<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!-- 
–°–æ–∑–¥–∞—Ç–µ–ª—å ¬© feb7e9c4d5539ae0f1496cdb2aaee27c
-->
<title>üó∫Ô∏è –∫–∞—Ä—Ç—ã.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- –î–æ–±–∞–≤–ª—è–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∫–∞—Ä—Ç -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.3.1/css/ol.css" type="text/css">
<script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.3.1/build/ol.js"></script>
<!--<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>-->


<style type="text/css">
#svg{
	/*background-color: #cef;/**/
	/*pointerEvents: none;/**/
	position: absolute;
	top:0px;
	left:0px;
}
#map,#menu{
	position:absolute;
	top:0px;
}
#map{
	left:0px;
	
	/*margin:1px;*/
	background-color:#ddd;
	/**/
}
#menu{
	right:0px;
	
	background-color:#ff5050;
	/*opacity:0.7;
	/**/
}
.b_menu{
	background-color:#ddd;
	
	border-width: 0px;
	margin:0px 1px 0px 0px;/**/
	font-size:20px;
	width:50px;
	height:50px;
}
.b_menu[disabled]{
	background-color:#ffe;
}
.b_menu:hover{
	background-color:#ffe;
}
.div_menu{
	display:none;
	font-family:monospace;
	font-size:15px;
	background-color:#ffe;
	width:400px;
	height:100px;
	margin:0px;
	padding:0px;
	overflow:auto;
}
.content_menu{
	padding:10px 10px 0px;
}
.content_menu_fire{
	padding:0px 10px 0px;
	background-color:#ffe6d4;
}
.input_coor{
	border: 1px solid #ffe;
	background-color:#ddd;
	color:#000;
}
.input_coor:focus{
	border: 1px solid #ff5050;
}
.input_coor:hover{
	border: 1px solid #ff5050;
}
/*
input[name=active_map],input[name=active_map_n]
*/
#menu_degrees select{
	width:90px;
	vertical-align:middle;
	/*margin-right:2px;*/
	padding: 0px;
	margin:-5px 2px -5px 2px;
}
#active_map input, #menu_fire input{
	vertical-align:middle;
	margin:1.5px 5.5px 4px 10px;
}
#menu_degrees input{
	vertical-align:middle;
	margin:1.5px 3px 5px 2px;
}
#menu_degrees input[type=checkbox]{
	vertical-align:middle;
	margin:0px 3px 0px 2px;
}
#menu_degrees input[type=color]{
	vertical-align:middle;
	margin:-10px 0px -5px -1px;
}
#menu_degrees input[type=text]{
	vertical-align:middle;
	margin:-10px 0px -12px -1px;
}
#active_map_n{
	vertical-align:middle;
	margin:8px 5.5px 4px 10px;
}
#range_map_n{
	vertical-align:middle;
	margin:4px 0px 0px 0px;
}
#span_map_n{
	vertical-align:middle;
	padding:5px 0px 0px 0px;
	
}
.name_type_1{
	font-weight:bold;
	color:#7b3f00;
}
.name_type_2{
	font-weight:bold;
	color:#080;
}
.name_type_3{
	font-weight:bold;
	color:#b0c4de;
}
.name_type_4{
	font-weight:bold;
}
.name_type_5{
	color:#999;
}
.ol-attribution{
	font-size:12px;
}
.ol-attribution A{
	color:#33b5e5;
}
.ol-attribution A:visited{
	color:#0078A8;
}
center{
	font-size: 150%;
}
#search, #search_2, #copy{
	cursor:pointer;
}
</style>
<!-- TEST -->
<script src="js/proj4.js"></script>
<!-- END TEST -->
<script src="js/g_tiles.js"></script><!-- –°–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç-->
<script src="js/sc.js"></script><!-- –°–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–æ–µ–∫—Ü–∏–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∫ –Ω–∏–º-->
<script src="js/f.js"></script>
<script src="js/map.js"></script>
<script src="js/degrees.js"></script>
<!-- TESTs -->
<script src="js/test.js"></script>
<script type="text/javascript">
var obj_test = null;

var id_creator = 'feb7e9c4d5539ae0f1496cdb2aaee27c';
var disabled_b_menu = null;
var display_div_menu = null;
var map = null;
var degrees = null;
var map_id = 1;
var width_map = 0;
var height_map = 0;

window.onload = function(){
	f_load_view();
	let width_menu = 400;
	width_map = document.documentElement.clientWidth - width_menu;
	height_map = document.documentElement.clientHeight;
	
	//alert(width);
	document.getElementById("map").style.width = width_map+"px";
	document.getElementById("map").style.height = height_map+"px";
	document.getElementById("svg").style.width = width_map+"px";
	document.getElementById("svg").style.height = height_map+"px";
	document.getElementById("svg").style.pointerEvents = "none";
	document.getElementById("menu").style.width = width_menu+"px";
	document.getElementById("menu").style.height = height_map+"px";
	
	let h_div_menu = height_map - 50;
	document.getElementById("menu_map").style.height = h_div_menu+"px";
	document.getElementById("menu_map").style.display = "block";
	document.getElementById("menu_fire").style.height = h_div_menu+"px";
	document.getElementById("menu_degrees").style.height = h_div_menu+"px";
	document.getElementById("menu_test").style.height = h_div_menu+"px";
	display_div_menu = document.getElementById("menu_map");
	disabled_b_menu = document.getElementById("menu").querySelector('button');
	disabled_b_menu.disabled = true;
	
	
	map = new Map();
	degrees = new Degrees();
	
	/*
	map = new ol.Map({
		target:'map',
		layers:[
			new ol.layer.Tile({
				source: new ol.source.OSM()
			})
		],
		view: new ol.View({
			center: ol.proj.fromLonLat([82.9214626, 55.0265031]),
			zoom: 13
		})
	});//*/
	obj_test = new Test();
	f_menu(this,'degrees');
};
window.onunload = function(){
	f_seve_view();
};
var flag_local = false;
function f_seve_view(){
	if(flag_local){
		localStorage.setItem(id_creator, JSON.stringify({
			lat:isNaN(document.getElementById("lat_center").value) ? '55': document.getElementById("lat_center").value,
			lon:isNaN(document.getElementById("lon_center").value) ? '83': document.getElementById("lon_center").value,
			zoom:isNaN(document.getElementById("zoom").value) ? '17': document.getElementById("zoom").value,
			map_id:map_id
		}));
	}
};
function f_load_view(){
	if(f_is_localStorage()){
		flag_local = true;
		let data_string = localStorage.getItem(id_creator);
		if(data_string != null){
			let date_view = JSON.parse(data_string);
			document.getElementById("lat_center").value = date_view.lat;
			document.getElementById("lon_center").value = date_view.lon;
			document.getElementById("zoom").value = date_view.zoom;
			if(date_view.map_id != undefined)map_id = date_view.map_id;
		}
	}
};
function f_is_localStorage(){//–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ª–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö.
	try{
		let storage = window['localStorage'];
		let x = '__storage_test__';
		storage.setItem(x, x);
		storage.removeItem(x);
		return true;
	}
	catch(e){
		return false;
	}
}
function f_menu(elm, name){
	disabled_b_menu.disabled = false;
	disabled_b_menu = elm;
	disabled_b_menu.disabled = true;
	display_div_menu.style.display = "none";
	display_div_menu = document.getElementById("menu_"+name);
	display_div_menu.style.display = "block";
};
function test(){//JSON.stringify(
	//alert("test");
}
</script>
</head>
<body>
<div id="map" class="map"></div>
<svg id="svg" class="svg" xmlns="http://www.w3.org/2000/svg">
<defs>
	<filter x="0" y="0" width="1" height="0.9" id="bord_t"><feFlood flood-color="#fff" flood-opacity=".75" in="FillPaint" result="b"/><feBlend mode="normal" in2="b" in="SourceGraphic"/></filter>
	<filter x="0" y="0" width="1" height="0.9" id="bord_t_2"><feFlood flood-color="#fff" flood-opacity="1" in="FillPaint" result="b"/><feBlend mode="normal" in2="b" in="SourceGraphic"/></filter>
</defs>
</svg>
<div id="menu">
	<button class="b_menu" onClick="f_menu(this,'map')">üó∫Ô∏è</button><button class="b_menu" onClick="f_menu(this,'fire')">üî•</button><button class="b_menu" onClick="f_menu(this,'degrees')">üåê</button><button class="b_menu" onClick="f_menu(this,'test')">üß≠</button>
	<div class="div_menu" id="menu_map">
		<!--<p><input type="radio" name="api_map" value="rad1" checked> Leaflet<input type="radio" name="api_map" value="rad2"> OpenLayers<input type="radio" name="api_map" value="rad3"> Google<input type="radio" name="api_map" value="rad4"> –Ø–Ω–¥–µ–∫—Å</p>-->
		<div class="content_menu">
		<center>—Ü–µ–Ω—Ç—Ä –∫–∞—Ä—Ç—ã</center>
		—à–∏—Ä–æ—Ç–∞ &nbsp;N: <input class="input_coor" type="text" value="55.0265031" id="lat_center" size="18"><span id="copy" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞">üìù</span> <span id="copy_out"></span>
		<br>
		–¥–æ–ª–≥–æ—Ç–∞ E: <input class="input_coor" type="text" value="82.9214626" id="lon_center" size="18"><span id="search" title="–ò—Å–∫–∞—Ç—å –≤ google">üîé</span>
		<!--<input type="button" value="–ü–µ—Ä–µ–π—Ç–∏" onClick="f_map_center()">-->
		<br>
		zoom: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input class="input_coor" type="text" value="13" id="zoom" size="18"><span id="search_2" title="–ò—Å–∫–∞—Ç—å –≤ yandex">üîé</span>
		<hr>
		<form id="active_map" onsubmit="return false;">
		<center>–∫–∞—Ä—Ç—ã</center>
		</form>
		<input id="active_map_n" type="checkbox"><span id="span_map_n">–î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–π –∫–∞—Ä—Ç —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é</span><input id="range_map_n" type="range" min="0" max="1" step=".01" value=".5" oninput="" style="display:none;">
		</div>
	</div>
	<div class="div_menu" id="menu_fire">
		<div class="content_menu" id="div_ex_layer">
		<center>–°–ª–æ–∏</center>
		</div>
		<div class="content_menu_fire" id="div_menu_fire">
		<center>–°–ª–æ–∏ —Ç–µ—Ä–º–æ—Ç–æ—á–µ–∫</center>
		<span>–î–∞–Ω–Ω—ã–µ —Å <a href="https://firms.modaps.eosdis.nasa.gov/web-services/" target="_blank">FIRMS</a></span>
		<br>
		<label><input type="radio" name="time_fire" value="24">24—á</label>
		<br>
		<label><input type="radio" name="time_fire" value="48">48—á</label>
		<br>
		<label><input type="radio" name="time_fire" value="72">72—á</label>
		<br>
		<label><input type="radio" name="time_fire" value="7">7 –¥</label>
		<br>
		<label><input type="checkbox" id="check_MODIS">MODIS & </label><label>VIIRS<input type="checkbox" id="check_VIIRS"></label>
		</div>
	</div>
	<div class="div_menu" id="menu_degrees">
		<div class="content_menu" id="content_degrees">
			<center>–†–∞–∑–º–µ—Ç–∫–∞</center>
			<label>–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –Ω–∞ —É–≥–ª–∞—Ö –∫–∞—Ä—Ç—ã:<input id="markings_corners" type="checkbox"></label>
			<br>–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤:
			<select id="format_d">
				<option disabled>—Ñ–æ—Ä–º–∞—Ç</option>
				<option>dd¬∞mm'ss"</option>
				<option>dd¬∞mm.mm'</option>
				<option>dd.ddddd¬∞</option>
				<option>dd.ddddddd¬∞</option>
				<option>dd.ddddddddd¬∞</option>
				<option>dd.ddddddddddd¬∞</option>
				<option>dd¬∞mm'ss.sssss"</option>
				<option>km(–∫–∏–ª–æ–º–µ—Ç—Ä—ã)</option>
				<option>m(–º–µ—Ç—Ä—ã)</option>
				<option>m.cm(–º–µ—Ç—Ä—ã.—Å–∞–Ω—Ç–∏–º–µ—Ç—Ä—ã)</option>
				<option>ft(—Ñ—É—Ç—ã, –≥–µ–æ–¥–µ–∑–∏—á–µ—Å–∫–∏–µ)</option>
				<option>ft(—Ñ—É—Ç—ã, –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π)</option>
				<option>yd(—è—Ä–¥—ã)</option>
				<option>mile(–º–∏–ª–∏)</option>
				<option>gm(–≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –º–∏–ª–∏)</option>
				<option>nm(–º–æ—Ä—Å–∫–∏–µ –º–∏–ª–∏)</option>
			</select>
			<br>–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤:
			<select id="sys_c">
				<option disabled>—Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç/–ø—Ä–æ–µ–∫—Ü–∏—è</option>
			</select>
			<br>
			
			<hr>
			<label>–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ä–∞–∑–º–µ—Ç–∫—É 1:<input type="checkbox" id="draw_grid_0"></label> <input type="color" name="color_1" value="#000000" id="grid_color_0">
			<br>–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤:
			<select id="grid_step_0">
				<option disabled>—à–∞–≥</option>
			</select><label> –∞–≤—Ç–æ <input id="auto_step_0" type="checkbox" checked></label>
			<input id="text_step_0" type="text" value="1" size="5">
			<br>–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤:
			<select id="sys_grid_0">
				<option disabled>—Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç</option>
			</select><label> text <input id="test_step_0" type="checkbox" checked></label>
			<br>
			<hr>
			<label>–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ä–∞–∑–º–µ—Ç–∫—É 2:<input type="checkbox" id="draw_grid_1"></label> <input type="color" name="color_1" value="#ff5050" id="grid_color_1">
			<br>–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤:
			<select id="grid_step_1">
				<option disabled>—à–∞–≥</option>
			</select><label> –∞–≤—Ç–æ <input id="auto_step_1" type="checkbox" checked></label>
			<input id="text_step_1" type="text" value="1" size="5">
			<br>–û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤:
			<select id="sys_grid_1">
				<option disabled>—Å–∏—Å—Ç–µ–º–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç</option>
			</select><label> text <input id="test_step_1" type="checkbox" checked></label>
			<br>
			<span id="test_out_deg"></span>
			<hr>
		</div>
	</div>
	<div class="div_menu" id="menu_test">
		TESTS
		<br>
		<label>–í–∫–ª—é—á–∏—Ç—å —Ç–µ—Å—Ç—ã: <input type="checkbox" id="on_off_test"></label>
		<br>
		<span id="test_out"></span>
		<br>
		<span id="test_out_2"></span>
		<br>
		<span id="test_out_3"></span>
		<br>
		<span id="test_out_4"></span>
		<br>
		<span id="test_out_5"></span>
	</div>
</div>
</body>
</html>