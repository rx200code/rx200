<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>v2</title>
</head>
<body>
<table><tr><td>
<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="1000" style="background-color: #444;">
	<style>
	</style>
	<defs>
		<g id="model_2">
			<image
				href="https://artchive.ru/res/media/img/sx200/work/864/378925.jpg"
				height="200"
				width="200"
			/>
		</g>
		<g id="model_3">
			<image
				href="378925_r.jpg"
				height="200"
				width="200"
			/>
		</g>
		<g id="model_1">
			<path
				d="M0,0 h100 v100 h-100 z"
				fill="#f00"
				fill-opacity="0.5"
				stroke="#000"
				stroke-width="5"
			/>
			
			<text
				x="0"
				y="0"
				dx="50px"
				dy="50px"
				text-anchor="middle"
				dominant-baseline="middle"
				font-size="70px"
				fill="black"
			>Rx</text>
			
			<path
				d="M100,0 h100 v100 h-100 z"
				fill="#0f0"
			/>
			
			<path
				d="M0,100 h100 v100 h-100 z"
				fill="#00f"
			/>
			
			<path
				d="M100,100 h100 v100 h-100 z"
				fill="#f00"
			/>
		</g>
		
		<filter
			id="filter_1"
			
		>
			<feGaussianBlur
				id="feGaussianBlur_1"
				
				in="SourceGraphic"
				stdDeviation="1"
			/>
			
		</filter>
		<filter
			id="filter_2"
			
		>
			<!----
			<feConvolveMatrix
				in="SourceGraphic"
				order="5"
				kernelMatrix="
					0 0 0 0 0
					0 0 0 0 0
					0 0 1 0 0
					0 0 0 0 0
					0 0 0 0 0
				"
			/>
			<!---->
			<feConvolveMatrix
				id="feConvolveMatrix_1"
				
				in="SourceGraphic"
				order="1"
				kernelMatrix="
					1
				"
			/>
			
		</filter>
		<filter
			id="filter_3"
			
		>
			<feGaussianBlur
				id="feGaussianBlur_2"
				
				in="SourceGraphic"
				stdDeviation="1"
				result="f_1"
			/>
			<!----
			<feConvolveMatrix
				in="SourceGraphic"
				order="5"
				kernelMatrix="
					0 0 0 0 0
					0 0 0 0 0
					0 0 1 0 0
					0 0 0 0 0
					0 0 0 0 0
				"
			/>
			<!---->
			<feConvolveMatrix
				id="feConvolveMatrix_2"
				
				in="SourceGraphic"
				order="1"
				kernelMatrix="
					1
				"
				result="f_2"
			/>
			<!---->
			<feImage
				href="378925_r.jpg"
				result="image_1"
				height="200"
				width="200"
				x="0"
				y="0"
			/>
			<!---->
			<feComposite
				id="feComposite_1"
				in="f_1"
				in2="f_2"
				result="f_3"
				operator="arithmetic"
				k1="0"
				k2="256"
				k3="-256"
				k4="0"
			/>
			<!---->
			<!----
			<feColorMatrix
				in="f_3"
				type="matrix"
				values="
					1 0 0 0 0
					0 1 0 0 0
					0 0 1 0 0
					0 0 0 1 0"
				result="out_1"
			/>
			<!---->
		</filter>
		<filter
			id="filter_4"
			
		>
			<feGaussianBlur
				id="feGaussianBlur_2_4"
				
				in="SourceGraphic"
				stdDeviation="1"
				result="f_1"
			/>
			<feConvolveMatrix
				id="feConvolveMatrix_2_4"
				
				in="SourceGraphic"
				order="1"
				kernelMatrix="
					1
				"
				result="f_2"
			/>
			<feComposite
				id="feComposite_2"
				in="f_2"
				in2="f_1"
				result="f_3"
				operator="arithmetic"
				k1="0"
				k2="256"
				k3="-256"
				k4="0"
			/>
		</filter>
		<filter
			id="filter_test"
			
		>
			<feColorMatrix
				in="SourceGraphic"
				type="matrix"
				values="
					1 0 0 0 0
					0 1 0 0 0
					0 0 1 0 0
					0 0 0 1 0"
				result="out_1"
			/>
			
		</filter>
	</defs>
	
	<path
		d="M200,50 V500 L400,800 L600,500 V50 M650,750 h300 M50,377.5 h700"
		fill="none"
		stroke="#000"
		stroke-width="5"
	/>
	<use
		href="#model_2"
		x="100"
		y="100"
	/>
	<use
		href="#model_2"
		x="500"
		y="100"
	/>
	<use
		href="#model_2"
		x="100"
		y="400"
		filter="url(#filter_1)"
	/>
	<use
		href="#model_2"
		x="500"
		y="400"
		filter="url(#filter_2)"
	/>
	<use
		href="#model_2"
		x="300"
		y="700"
		filter="url(#filter_3)"
	/>
	<use
		href="#model_2"
		x="50"
		y="700"
		filter="url(#filter_4)"
	/>
	<use
		href="#model_3"
		x="700"
		y="700"
		filter="url(#filter_test)"
	/>
</svg>
</td>
<td>

</td></tr>
</table>
<script type="text/javascript">
window.onload = function(){
	let text = "";
	let t_offset = "					";
	let b_n = 40;
	//let b = b_n*1.07320508075688772;//b_n;//*1.065;
	//let b = b_n * 1.065;
	//let b = b_n;
	let b = 40;
	//let r = b_n * 3;
	let r = 49;
	//let r = 9.5;
	let sum = 0;
	//alert(Math.sqrt(3)+" | "+Math.pow(3, 1/3));
	//1.4422495703074083
	for(let y = -r; y < (r + 1); y++){
		text += t_offset;
		for(let x = -r; x < (r + 1); x++){
			let distance = Math.sqrt((x*x)+(y*y));
			//if(false){
			if(distance > (r + 0)){
				distance = 0;
			}else{
				//1/(1*Math.sqrt(2*Math.PI))*Math.exp(-1*Math.pow(x, 2)/(2*Math.pow(1, 2)))
				//distance = 1/(b*Math.sqrt(2*Math.PI))*Math.exp(-1*Math.pow(distance, 2)/(2*Math.pow(b, 2)));
				//distance = (x*x)+(y*y);
				distance = (1/ (2*Math.PI*Math.pow(b, 2))) * Math.exp(-1*((Math.pow(x, 2) + Math.pow(y, 2)) / (2 * Math.pow(b, 2))));
				//distance /= 5.0029936807342485;
			}
			sum += distance;
			/*
			let okkr = 100000000000000;
			let str = (Math.round(distance * okkr) / okkr)+"";
			//*/
			let str = (distance*1)+"";
			//let str = distance.toExponential()+"";
			//str = str.substring(0,20);
			text += str;
			if(x != r)text += " ";
		}
		if(y != r)text += '\r\n';
	}
	
	let feComposite_1 = document.getElementById("feComposite_1");
	let feComposite_2 = document.getElementById("feComposite_2");
	let mnoj = 256;
	feComposite_1.setAttributeNS(null, "k2", mnoj);
	feComposite_2.setAttributeNS(null, "k2", mnoj);
	feComposite_1.setAttributeNS(null, "k3", -mnoj);
	feComposite_2.setAttributeNS(null, "k3", -mnoj);
	
	
	
	let feGaussianBlur_1 = document.getElementById("feGaussianBlur_1");
	let feGaussianBlur_2 = document.getElementById("feGaussianBlur_2");
	let feGaussianBlur_2_4 = document.getElementById("feGaussianBlur_2_4");
	feGaussianBlur_1.setAttributeNS(null, "stdDeviation", b_n);
	feGaussianBlur_2.setAttributeNS(null, "stdDeviation", b_n);
	feGaussianBlur_2_4.setAttributeNS(null, "stdDeviation", b_n);
	
	let feConvolveMatrix_1 = document.getElementById("feConvolveMatrix_1");
	let feConvolveMatrix_2 = document.getElementById("feConvolveMatrix_2");
	let feConvolveMatrix_2_4 = document.getElementById("feConvolveMatrix_2_4");
	let order = ( r * 2 ) + 1;
	/*
	feConvolveMatrix_1.setAttributeNS(null, "divisor", sum);
	feConvolveMatrix_2.setAttributeNS(null, "divisor", sum);
	feConvolveMatrix_2_4.setAttributeNS(null, "divisor", sum);
	//*/
	feConvolveMatrix_1.setAttributeNS(null, "order", order);
	feConvolveMatrix_2.setAttributeNS(null, "order", order);
	feConvolveMatrix_2_4.setAttributeNS(null, "order", order);
	feConvolveMatrix_1.setAttributeNS(null, "kernelMatrix", text);
	feConvolveMatrix_2.setAttributeNS(null, "kernelMatrix", text);
	feConvolveMatrix_2_4.setAttributeNS(null, "kernelMatrix", text);
	
	/*
	//let edgeMode = "duplicate";
	//let edgeMode = "wrap";
	let edgeMode = "none";//edgeMode="none"
	feGaussianBlur_1.setAttributeNS(null, "edgeMode", edgeMode);
	feGaussianBlur_2.setAttributeNS(null, "edgeMode", edgeMode);
	feGaussianBlur_2_4.setAttributeNS(null, "edgeMode", edgeMode);
	feConvolveMatrix_1.setAttributeNS(null, "edgeMode", edgeMode);
	feConvolveMatrix_2.setAttributeNS(null, "edgeMode", edgeMode);
	feConvolveMatrix_2_4.setAttributeNS(null, "edgeMode", edgeMode);
	//*/
	//let str = sum+"";
	//alert(str.substring(0, 15));
	//alert(Math.sqrt(b_n));
	
}

</script>
</body>
</html>